

# 个人健康数据系统 3.0 架构方案说明

## 一、背景与目标

本项目旨在构建一套**以用户个人健康数据为核心的长期数据管理与分析系统**。
系统已完成 1.0（数据采集）与 2.0（数据预处理与语义建库）阶段，目前进入 **3.0：数据分析与结果表达阶段**。

**3.0 的核心目标不是做医疗诊断系统，而是：**

* 将分散、异构的健康数据
* 转化为 **可查询、可分析、可视化的时间序列数据**
* 为用户和专业人员提供 **清晰、直观、可解释的健康趋势与风险信息**

---

## 二、3.0 阶段的整体定位

3.0 是一个**“数据收敛与分析展示层”**，其作用是：

* 在不改变 2.0 数据资产形态的前提下
* 将语义化健康数据进一步结构化
* 支撑统计分析、图表展示与报告生成

**原则：**

* 不追求医疗结论的绝对准确性
* 不替代医生判断
* 聚焦数据趋势、变化与关联的呈现能力

---

## 三、总体架构思路（3.0 核心逻辑）

3.0 采用一条**清晰、单向的数据处理流水线**，共分为 8 个步骤：

---

### 1. 按健康指标分类设计数据表

将健康数据按长期稳定的指标域进行分类建表，例如：

* 血压
* 血糖
* 血脂
* 血常规
* 肝功能
* 肾功能
* 尿常规
* 体重 / BMI
* 睡眠
* 其他（扩展）

**目的：**

* 每一类指标形成独立、可长期积累的时间序列
* 表结构服务于分析与展示，而非穷举医学复杂性

---

### 2. 使用 LLM 解析数据为标准 JSON 结构

* 用户每日上传的文件（来源于 2.0 的 md 与原始文件）
* 通过大模型（LLM）解析为**统一的指标型 JSON 结构**
* JSON 作为分析级中间数据，而非最终事实

---

### 3. 指标数据写入分类表，形成时间序列

* 将 JSON 中的各类指标按分类写入对应数据表
* 每条记录均绑定用户与测量时间
* 数据正式进入 **“可计算、可统计” 状态**

---

### 4. 单一指标的时间序列分析

针对单一指标进行基础统计分析，例如：

* 趋势变化（上升 / 下降）
* 波动幅度
* 稳定性评估

该阶段只描述“变化情况”，不输出医学诊断。

---

### 5. 计算综合风险与派生指标

基于多个基础指标计算组合指标，例如：

* TG / HDL
* LDL / HDL
* TC / HDL
* 肝功能、肾功能相关评分模型

用于将复杂数据压缩为**更易理解的风险信号**。

---

### 6. 多指标关联分析

对不同指标间的相关性进行分析，例如：

* 血脂与血糖
* 睡眠质量与血压 / 血糖

目的在于发现“共同变化趋势”，而非推断因果关系。

---

### 7. 生成多种可视化图表

基于时间序列与分析结果生成：

* 折线图（趋势）
* 散点图（分布 / 相关性）
* 风险变化图

用于用户理解与系统验证。

---

### 8. 自动生成双版本健康管理报告

基于相同分析结果生成两类报告：

* **患者版**：通俗、强调趋势与风险提示
* **医生版**：结构化、保留指标与统计细节

报告用于辅助理解与沟通，不构成医疗诊断。

---

## 四、3.0 阶段的设计边界与取舍

为保证系统可控与可演进，3.0 明确以下边界：

* 不追求覆盖全部医疗场景
* 不冻结完整医学模型
* 不以单次分析结果作为结论
* 允许数据不完整与解析误差（MVP 阶段）

系统重点验证的是**路径正确性与可扩展性**。

---

## 五、当前阶段成果与价值

在 3.0 阶段，系统将实现：

* 健康数据的时间序列化存储
* 基础统计分析与趋势识别
* 自动化图表生成
* 可复用的健康分析报告输出能力

为后续功能深化、模型优化与专业合作奠定基础。

---

## 六、总结

3.0 阶段并非终点，而是：

> **从“数据资产”迈向“数据理解”的关键过渡层**

当前方案在架构层面已经清晰、可执行，并允许在后续迭代中逐步完善细节，符合长期演进型系统的设计原则。

